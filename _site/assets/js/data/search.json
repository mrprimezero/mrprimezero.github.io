[
  
  {
    "title": "Home Lab: DHCP server",
    "url": "/posts/homelab_dhcp/",
    "categories": "Home Lab, Installations",
    "tags": "home-lab, dhcp, dnsmasq, linux, server",
    "date": "2025-08-25 00:00:00 +0530",
    





    
    "snippet": "dnsmasqWelcome back to the second installment of our cybersecurity home lab series! In our previous post, we established our attacker machine, Kali Linux, and prepared it for action. Now, we’re tak...",
    "content": "dnsmasqWelcome back to the second installment of our cybersecurity home lab series! In our previous post, we established our attacker machine, Kali Linux, and prepared it for action. Now, we’re taking a critical step forward by building the perfect environment for it to operate in: a dedicated, isolated network.Why is this so crucial? Because it allows us to simulate real-world scenarios without any risk to your home network. Instead of a messy, multi-VM configuration, we’ll create a single, centralized server to handle all of our networking needs. In this guide, we’ll leverage the lightweight and secure Alpine Linux to serve as our DHCP (Dynamic Host Configuration Protocol) and DNS (Domain System Name) server, using the powerful dnsmasq utility. This will give all our virtual machines their own private address space, just like in a real enterprise network.The real reason why I built this DHCP server is because I beleive it is really a hassle how we need to manually enter an IP for each machine that we add on our isolated SOC network.InstallationBefore we create our DHCP server we will have to download a light weight linux distribution which doesn’t take up much power so we can have it running while we run our other Virtual Machines, I have picked Alpine Linux since it has a command line interface and doesn’t take up much space and power. You may use any Linux distrobution that you desire.DownloadablesTo get started you will need atleast 3GB free storage space and 512MB free RAM. Also you will have to download: Oracle VirtualBox and you need to download Alpine Linux standard ISO here, make sure to install the x86_64 version of the standard ISO.Virtual Machine creationOnce you have downloaded everything go on to virtualbox and click on new to create a new virtual machine.New VMOnce you do that you will this screen, So now give your machine a name and select a location on a drive with atleast 3GB free space. THen click on ISO image and select your downloaded Alpine Linux Standard ISO. Set the Type to Linux, Subtype to Other Linux and the version as Other Linux (64 bit).Name and operating systemNow move to the Hardware section and select 512MB base memory and 1 CPU processor.VM HardwareNow move on to the Hard disk section and select “Create a Virtual Hard Disk Now” and give it atleast 2GB storage space. Now once everything is done click Finish.VM StorageOS InstallationOnce the VM creation is done click on start and boot into Alpine Linux. Once in you should login as root so just type as root in the terminal and you will log in, there will not be any password and you can log in. If there is any issue make sure you have downloaded the correct ISO file and followed the VM creation steps properly.RootOnce you are logged in you must install the OS. To do so type this in the terminal.setup-alpineAlpine setupOnce the setup launches select your preferred keymap and hit enter.Alpine keymapAfter selecting the keymap you will be asked to enter a hostname, Give a hostname you prefer and hit enter.Alpine hostnameAfter you have given the hostname you will prompted to initialize an interface, the defualt would be eth0 so hit enter on that [Important note: If you have added more than 1 adapter when creating the virtual machine, disable it. There will be problems with the installation]. Then you will be asked to provide ip address for eth0, the default is dhcp so again hit enter. Once that is done you will be prompted to do any manual network configuration, again go with the defualt which is no or n.Alpine interfaceOnce the Interface setup is complete you will be asked to create a new password for root so give it a super secure super long password like I have. Also make sure you can remember the password.Alpine root passwordOnce that is done, select your preferred timezone and hit enter.Alpine timezoneAfter that you will be prompted for HTTP/FTP proxy, for now leave it as none and hit enter.Alpine proxyNow you will be prompted to select a Network Time Protocol, you may select any that you prefer but I have chosen chrony.Alpine NTPAfter you select your NTP client you will be asked to chose an APK Mirror, select r to use a random Mirror and hit enter.Alpine APK MirrorAfter that step is complete you will be prompted to create a new user, select your preferred username and password and proceed. For the SSH key keep it as default which is none and hit enter, then you are asked which SSH server to use leave it as default which is openssh and hit enter.Alpine userNext will be to select the disk to install our OS. Over here you will be prompted which disk to use, here select the virtual hard disk that you created which is called sda in my case. Once the disk is selected we are prompted how would we like to use it, here select sys to install the system. Now we are asked if we are okay with erasing the disk, select y since this only erases the virtual hard disk we created. Once this is done the OS will install and it will take some time.Alpine disk &amp; installOnce the installation is one we are asked to reboot, so type reboot or simply hit the Virtual Box Host(on windows it is the right ctrl button) + Q and shut down your machine.Alpine rebootOnce the machine has shut down, go to its settings and navigate to the storage section and remove the alpine standard ISO file so our machine will boot to the OS and not the installer the next time we run it.VM remove attachmentOnce you remove the attachment start the VM again and you will be booted into Alpine Linux, here log in as root and enter the password you set for root.Alpine Log indnsmasq InstallationOnce you are logged in as root type this in the terminal to update packages.apk updateAlpine updateOnce it is done to install dnsmasq type this in the terminal.apk add dnsmasqAlpine dnsmasqNetwork configurationOnce dnsmasq is installed shut down your machine using Host + Q and open the Machine settings and navigate to the Network section. Then under the Attached to section select it as Internal Network and for the name we will select the same network our kali machine is under, which is named SOC. Now save the settings and click ok.VM NetworkStatic IP configurationOnce the VM is on the internal network boot it up again and login as root. Now use vi to edit the interfaces file to provide a static IP address to our VM in the internal network. To edit the interfaces file type this in the terminal.vi /etc/network/interfacesAlpine interface editIn your machine you will see something like ‘iface eth0 inet dhcp’ we will edit this to say static and provide an IP address. In vi to edit a file click shift + I to enter insert mode. And then edit the file with this.auto eth0iface eth0 inet static    address 192.168.100.1    netmask 255.255.255.0Once you have edited the file to save it click Esc and then type :wq and hit enter to save the file.Edited InterfaceOnce it is done to confirm if the file is edited cat the file to check if it is edited, and as we can see it is edited. So now we can restart the service by using the following command.rc-service networking restartRestarting network serviceOnce the service is restarted type in the following command to check if the IP address is assigned properly. And to confirm you should see something like inet 192.168.100.1/24 in eth0.ip aConfirming the IP addressdnsmasq ConfigurationOnce the machine has an IP we can move on to edit the dnsmasq.conf file to serve IP addresses to machines on this network. To edit the conf file type this into your terminal.vi /ect/dnsmasq.confdnsmasq config editOnce you do this you will see a huge list. Scroll to the bottom of the file and hit shift + I to enter insert mode so we can edit this file.vi dnsmasqOnce you are in insert mode do the following edit and save the file by clicking Esc and :wq and hit enter to save it.# Bind to eth0 onlyinterface=eth0bind-interfaces# DHCP address pool and lease timedhcp-range=192.168.100.10,192.168.100.100,12h# Gateway address sent to clientsdhcp-option=3,192.168.100.1# DNS servers sent to clients (just this server for isolated network)dhcp-option=6,192.168.100.1# Enable logging (optional)log-dhcpdnsmasq editNow everything is set all we have to do is start the service to do so type this in the terminal.rc-service dnsmasq startdnsmasq service startIf you want to check if the service is running type this in the terminal to check its status.rc-service dnsmasq statusdnsmasq statusNow for the moment of truth, boot up the kali virtual machine that we created on our previous post and when we run ifconfig we can see that the DHCP server has provided an IP address to our machine.Kali IPOnce we see the IP address just to double check let’s run ping on our server and ping the kali machine to see if it responds. As per the below image it is a success.PingTo make it easier we can also add dnsmasq to automatically run everytime we boot up Alpine Linux by using this command.rc-update add dnsmasq defaultConclusionWe have successfully built a dedicated, isolated network with a centralized DHCP and DNS server. By using the lightweight Alpine Linux and the powerful dnsmasq utility, we have eliminated the need for manually configuring IP addresses on every new machine. This makes our home lab more efficient and provides a realistic environment for our future projects.With our attacker machine and a secure, controlled network now in place, we have all the foundational components to begin our hands-on exercises.In the next post, we will introduce our first target: Metasploitable 2. This intentionally vulnerable machine will allow us to immediately apply our Kali Linux skills and begin generating the security events and logs that we will later use to build our SIEM (Security Information and Event Management) platform.Stay tuned for the next installment of our home lab series!"
  },
  
  {
    "title": "Home Lab: Kali Linux installation (Attacker Machine)",
    "url": "/posts/homelab_kalilinux/",
    "categories": "Home Lab, Installations",
    "tags": "home-lab, kali-linux, linux",
    "date": "2025-08-17 00:00:00 +0530",
    





    
    "snippet": "Kali LinxIntroductionWelcome to the first installment of our cybersecurity home lab series! Whether you’re a student, a security enthusiast, or a professional looking to hone your skills, having a ...",
    "content": "Kali LinxIntroductionWelcome to the first installment of our cybersecurity home lab series! Whether you’re a student, a security enthusiast, or a professional looking to hone your skills, having a personal lab is crucial. It’s a safe, legal environment to practice ethical hacking, test security tools, and understand how systems are vulnerable to attack.In this first post, we’re going to build the foundation of our lab: the attacker machine. We will be installing Kali Linux on Oracle VirtualBox. Kali Linux is the de facto operating system for penetration testers, and you’ll soon see why. It comes pre-loaded with an incredible arsenal of tools that we’ll be using throughout this series.This guide is designed to be a step-by-step walkthrough, complete with screenshots to ensure a smooth installation. Let’s get started!PrerequisitesBefore we are set to install our attacker machine we must check if our current hardware can handle the virtual machines. So before the installation refer to the prerequsites for better performance.Hardware requirementsMinimum Requirements  Storage: 20 GB of free disk space  Memory (RAM): 2 GB  CPU: A dual-core processor (with virtualization enabled)Recommended Requirements  Storage: 40 GB or more of free disk space  Memory (RAM): 4 GB or more  CPU: A quad-core processor or moreAs for operating system any operating system (Windows, Mac, Linux) is fine.DownloadablesTo get started, you will need to download two key pieces of software:      Oracle VirtualBox: This is the virtualization software that will allow you to run Kali Linux on your computer. You can download the latest version from the official VirtualBox website(https://www.virtualbox.org/wiki/Downloads).        Kali Linux ISO: This is the installation file for the Kali Linux operating system. You should download the official ISO file from the Kali Linux website(https://www.kali.org/get-kali/#kali-installer-images). Make sure to download the installer image and pick x86_64 version if on desktop.    Important Note on Virtualization: For VirtualBox to work properly, you must have virtualization technology enabled in your computer’s BIOS or UEFI settings. This is typically an option called “Intel VT-x,” “AMD-V,” or “Virtualization Technology.” If you encounter an error when starting your virtual machine, this is the first thing you should check.InstallationFor the attacker machine installation open up virtualbox, and click on new to create a new machine.Virtual BoxAnd then once you have done that start by giving your machine a name, and a folder on a drive with atleast 30GB available storage space. Once it’s done select your downloaded Kali ISO image and set[Type: Linux, Subtype: Debian, Version: Debian(64-bit)]Naming the MachineAfter this step head over to the Hardware section and allocate atleast 2048MB(2GB) RAM and provide atleast 2 cores of CPUResourceAfter the allocating hardware resources head to the hard disk section and provide atleast 20GB of storage spaceHarddiskAfter allocating storage space run the created virtual machineMachine CreatedOS InstallationOnce you run the machine you will see a screen like the one below. Now it’s time to install the OS, click graphical install to proceedGraphical installNow from here follow along with the simple installation process. Once the installation is complete your system will reboot and you will be asked to login.System installedOnce the installation is complete, Hold Host (by default it’s the right ctrl on windows) + Q to shutdown your machinePower OffNetwork configurationOnce you ave shut down your machine go to the settings to configure the machine to be in our own internel network (Dedicated seperated network from our home network)SettingsOnce you are in the settings go to the network tabNetwork tabOnce you are in the network tab click on attached to and select internal networkInternal networkNow give your network a name of your choice so we can use this to connect our other machines and click OKInternal NetworkConclusionThe successful installation of Kali Linux and its configuration on a private internal network marks a significant milestone in our home lab buildout. This foundational step provides us with a secure and controlled environment for all future exercises, adhering to the best practices of ethical hacking.As we move forward, the focus will shift from building our offensive toolkit to establishing the targets and defensive mechanisms we will interact with. The Kali machine we’ve just created will be our primary tool for these activities.Our next post will guide you through the setup of Metasploitable 2, a vulnerable virtual machine that will serve as our primary target for penetration testing. This will not only allow us to immediately apply the skills we’ve gained but also begin generating the logs and security events we’ll need for our Security Operations Center (SOC) project. These logs are the raw data that a SIEM (Security Information and Event Management) platform uses to detect threats.Thank you for joining me on this journey. I look forward to seeing you in the next post."
  },
  
  {
    "title": "HackTheBox: Code",
    "url": "/posts/code_htb_writeup/",
    "categories": "HackTheBox, Easy",
    "tags": "nmap, web security, python sandbox bypass, sql injection, gunicorn",
    "date": "2025-04-26 09:03:00 +0530",
    





    
    "snippet": "Room CardTL;DR: The HackTheBox machine Code was compromised starting with a web application vulnerability on port 5000, followed by a Python sandbox bypass for environment enumeration. Privilege es...",
    "content": "Room CardTL;DR: The HackTheBox machine Code was compromised starting with a web application vulnerability on port 5000, followed by a Python sandbox bypass for environment enumeration. Privilege escalation to root was achieved by exploiting a backup script (backy.sh) controlled by task.json. While path traversal and symbolic link attempts failed, removing the exclusion rule in task.json allowed backing up and retrieving the root flag from /root/.Initial EnumerationLet’s start off by running a simple nmap command to check for open ports.sudo nmap -sC -sV 10.10.11.62After running nmap we find that port 22 for ssh and port 5000 is open for HTTP server called gunicorn.Nmap ScanAfter a Search on Google we find that Gunicorn or Green Unicorn is a python WSGI HTTP server for UNIX.Let’s try accessing the http server on port 5000.Web PageReverse ShellIt appears that the page is a python code editor, Let’s try to get a reverse shell to this server via the editor.Reverse ShellWell that didn’t work. Seems like the editor is retricting certain keywords. We see the same thing happening when trying eval() and exec() which are built-in functions that allow for the dynamic execution of Python code from strings.Global ResourcesSince most of the keywords are restricted let’s try to access the dictionary of all global names available within the sandbox’s execution environment using raiseraise Exception(globals())Global NamesFinally we got something. Let’s take a closer look at it via our browser’s Inspect tab.Global Names InspectAh yes! Upon closer inspection we find that the Flask app is using SQLAlchemy for database interaction and we find that there is a class representing the users table in the database called User.Users and PasswordsAnd now with that let’s try to access the users table in the database. First let’s check for all usernames.raise Exception(User.query.with_entities(User.id, User.username).all())UsernamesSo we get to know that there are 2 users called development and the user martin.Let’s try to access these user’s passwords.raise Exception(User.query.with_entities(User.id, User.password).all())Passwords HashesIt appears that the passwords MD5 hashes, Let’s crack it.Passwords CrackingTo crack the passwords we will be using an online tool called CrackStation and since it’s MD5 hashes it won’t be that hard to crack.Let’s crack the pasword for the user developmentDevelopment PasswordWell that’s interesting.. Upon cracking we find that the password for the user development is just “development”.Let’s try to crack the password for the user martin.Martin PasswordOkay so this time we got a different password for the user martin.. The password for the user martin is “nafeelswordsmaster”.SSHSince we have usernames and passwords let’s try to SSH into the server.SSH as developmentSSH as developmentIt appears that the password for the user development is incorrect. Let’s see if we have any luck as martin.SSH as martinSSH as martinGained Access to the ServerYes! We finally get access to the server as martin.So no we can check for sudo privileges of martin.sudo -lmartin sudo permissionsAs martin we find that we are allowed to run backy.sh with sudo with no password.Backup ScriptLet’s try to run the script and check it’s output.sudo /usr/bin/backy.shBackup ScriptUpon running the script we are asked to use task.json with this script.task.jsonSince we are asked to use this json file let’s locate where this file could be.find / -name \"task.json\" 2&gt;dev&amp;&amp;nullFinding task.jsonNow that we have the location of the file let’s check for it’s contents.cat task.jsoncat json contentsIt appears that this file can be used to specify which folders should be archived using the backy.sh script.User FlagAfter running the script normally we find nothing. So let’s try to modify the json file and get all the contents of app-production folder, Maybe then we could find something.app-production archivingAfter successfully archiving let’s un-pack it’s contents.app-production archiveapp-production unpackingYes! We finally get to see the user.txt file. Let’s get the flag.User FlagNow let’s move on to find the root flag.Root FlagAfter trying to archive the /root folder alone we are prompted that the script only has permissions to archive the /home folder and /var folder.For this let’s perform path traversal with /....// and check if that would work.Path TraversalRoot ArchivingLet’s check the root archive now.Root ArchivingRoot Archive UnpackEven though we tried archiving and unpacking it’s contents we find that the archive is empty.Let’s try to analyze why this is happening and possible fixes.We tried creating rootlinks and then archiving the folders and still even though that method archives the root folder, We do not have permissions to open the rootlink folder. So let’s try to analyze the task.json file and check if there are any work arounds.After some analysis we find that the exclude section is restricting strings with . so basically whenever we enter a period it gets removed. So let’s remove that section and try again.Root Archiving Re-tryAnd now the folder is archived let’s unpack it’s contents.Unpacking RootFinally we get to see the root.txt file. Let’s get the flag.Root FlagThe machine Code was fun and riddled with puzzles and I honestly enjoyed playing this machine which took me about 5 hours to break.Key Takeaways  Web Application Vulnerabilities as Entry Points: Initial access often stems from flaws in web applications.  Python Sandbox Introspection: Tools and techniques exist to examine the internals of sandboxed Python environments.  Backup Scripts &amp; Root Privileges: Scripts running with elevated privileges (like root) are critical targets for privilege escalation.  Configuration File Security: Configuration files can contain sensitive settings and exploitable parameters.  Importance of Exclusion Rules: Seemingly minor configuration details, such as exclusion rules in backup processes, can have significant security implications."
  },
  
  {
    "title": "Instagram Phishing 101: Understanding the Mechanics (and Defenses)",
    "url": "/posts/instagram_phishing/",
    "categories": "Social-Engineering, Phishing",
    "tags": "apache, web-server, phishing, social-engineering, mysql",
    "date": "2025-04-16 16:47:00 +0530",
    





    
    "snippet": "The Phishing ThreatPhishing is the most used tactic in a social-engineering attacks, one of the main reasons being effectiveness. No matter how advanced or how far is cyber security is gone, The mo...",
    "content": "The Phishing ThreatPhishing is the most used tactic in a social-engineering attacks, one of the main reasons being effectiveness. No matter how advanced or how far is cyber security is gone, The most vulnerable system in this world will always be Humans. The main focus of a phishing attack is to create a sense of fear and urgency, which is why it is the most effective hacking method.Social Media as a Target: Why Instagram?Social media accounts contain the most valuable thing a hacker desires Data, Social accounts contain so much secrecy and privacy which a hacker could then use to blackmail a victim into demanding a ransom. And the victim would also pay the ransom due to their fear. In this post I will be demonstrating how to obtain Instagram credentials of a victim(with their consent), I have chosen Instagram due to it being the most used social platform among Gen-Z.The Goal of this PostThis post is published strictly for educational purposes only. I do not condone any Malicious or Illegal activity. The main focus is to teach how easily a phishing attack could occur and how we could possibly defend against it.How Instagram Phishing worksPhishing is not something that is overly complicated it mostly plays with a persons emotions. So in order to achieve the outcome we desire we must make things look as authentuc as possible. In this demonstration we will be using a phishing page created by yours truly PrimeZero(ME).Instagram Phishing RepositoryI have created an Instagram which is identical to the original with some modifications to have an edge on our attempt at Phishing. Let’s clone the GitHub repository.git clone https://github.com/mrprimezero/Instagram-Phishing-PageThis repository contains a webpage and an e-mail template which we can send out to the target.Setting up the Phishing PageFor our web server to work we will be using apache, ngrok and mysql. I recommend using Kali-Linux since we have everything we need there and also cause it’s cooler. So lets set them up now.MySQLWe are going to set up MySQL and this will store our captured username and password in a database called capturelogin.Before we begin let’s check the status of MySQL in our systemsudo systemctl status mysqlThis will let us know if MySQL services are active. If the status shows as disbaled, start services by issuing this command:sudo systemctl start mysqlAnd now let’s login to our MySQL service.sudo mysql -u root -pEnter in your root password here.Creating the DatabaseNow let’s create a Database name capturelogin. Note: You may name it anything as you desire.CREATE DATABASE capturelogin;After creating the database let’s create a user and a password and grant that user privilges to the database,CREATE USER 'logger'@'localhost' IDENTIFIED BY 'logmaster';GRANT ALL PRIVILEGES ON capturelogin.* TO 'logger'@'localhost';and now let’s flush privileges to keep the privilege information up-to-date,FLUSH PRIVILEGES;Now we have to use that database we created to create a table to add our victim details.USE capturelogin;Now let’s create the table to record our login details.CREATE TABLE logins (    id INT AUTO_INCREMENT PRIMARY KEY,    username VARCHAR(255) NOT NULL,    password VARCHAR(255) NOT NULL,    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);And that’s all we have to do with MySQL, But don’t close the MySQL shell yet.Apache ServerLaunch a new terminal instance and check whether Apache services are active,sudo systemctl status apache2if the services are active stop the services for now as you might run into problems,sudo systemctl stop apache2now you are gonna have to place the index.html, style.css and the info.php files in /var/www/htmlConfiguring PHP FileAnd now for the most important part, we will be configuring the info.php so it can speak with our database.// Database credentials$servername = \"localhost\";$username = \"logger\";$password = \"logmaster\";$dbname = \"capturelogin\";The only thing that needs to be done is change the database credentials and we are set.now let’s start the apache server,sudo systemctl start apache2NgrokAnd now let’s use ngrok for port forwarding and host our site,ngrok http 80Ngrok installation and set up can be found here: https://ngrok.com/downloads/The BaitNow to set up our bait let’s use the email.html and configure it to our liking. In this scenario we will be targetting Tony Stark. (I know crazy right).E-Mail TemplateLet’s edit our e-mail template to seem like Tony Stark is getting his account mass reported. (Instructions for what should be edited can be found in the HTML).The main thing we going to focus on is the login button, let’s copy and paste in our ngrok link that we received so it redirects the victim to our site on click.HTMailTo use e-mail templates with outlook we can use a browser extension known as HTMaiL. Note: I do not own or sponsor this extension, I just find it helpful.HTMaiL: WebstoreAfter adding HTMaiL to your browser there should be a tab named messages when composing a new mail, there you should find a code block icon which then we can use to add our e-mail template.HTMaiL: ButtonAfter clicking the button we can add in our HTML, so simply just copy and paste in the edited HTML code and click insert.Adding the HTML codeThe final output should look something like this.E-Mail OutputAnd since it’s all done let’s send out our E-Mail to Tony Stark.Victims PerspectiveNow Tony Stark would have received an E-Mail saying that his Instgaram is being mass reported, so a panicked Tony Stark would then click on our link and be redirected to our site.This is what our site would look like to the Victim,Fake Instagram SiteA panicked Tony Stark would then enter this credentials into our fake site,CredentialsAfter Tony Stark clicks Log-In he would be redirected to an Instagram help center page and everything would seem normal. RedirectionCaptured CredentialsSince Tony Stark has entered his credentials in our fake site we can check our MySQL shell for Tony Stark’s credentials.SELECT * FROM logins;This should let us see all the contents of the logins table.Captured CredentialsAnd just like that we now have access to Tony Stark’s Instagram. Let’s send Peter Parker a message saying “I hate you 3000”.Dangers of PhishingPhishing is a highly effective method of hacking even today in such a highly advanced civilization.Phishing is dengerous for the one implementing it and the victim alike, There could be various types of phishing which can take place for an example we have used Instagram but someone might hae a different idea and target an entire organization. Phishing is not only setting up fake sites and getting credentials of Instagram logins but it is also one of the most effective way malware can spread. For instance a hacker might contruct a ransomware which targets a company and an employee might unknowingly click the link to download that malware.Phishing is also harmful to the attacker since if caught we possibly might have to face jail time considering the severity.Defense MachanismThe only form of defense against fishing is to stay up-to-date and be informed about theses types of attacks and educate employess what phishing attacks are and how to spot and report them.Thank you for reading this post and don’t forget to follow me on X and GitHub!"
  }
  
]

